<div class="app-main__inner">
    <div class="app-page-title">
        <div class="page-title-wrapper">
            <div class="page-title-heading">
                <div class="page-title-icon">
                    <!-- <i class="fas fa-users"></i> -->
                    <mat-icon style=" background: white;color: #68bfbb;font-size: xxx-large;position: relative; bottom: 13px;
                    right: 8px;">person</mat-icon>
                </div>
                <div>Users
                    <div class="page-title-subheading">Tables are the backbone of almost all web applications.
                    </div>
                </div>
            </div>
            <div class="page-title-actions">

                <div class="d-inline-block dropdown">
                    <ng-container *ngFor="let feature of userFeature"> 
                    <button *ngIf="feature.create == true" type="button" routerLink="add-user" aria-haspopup="true" aria-expanded="false"
                        class="btn-shadow btn btn-info">
                        <span class="btn-icon-wrapper pr-2 opacity-7">
                            <!-- <i class="fa fa-business-time fa-w-20"></i> -->
                            <mat-icon style="background-color: transparent;color:white;position: relative;top:4px">business_center</mat-icon>
                        </span>
                        Add User
                    </button>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="main-card mb-1 card">
                <div class="card-body">
                    <input type="text" class="searchBox" name="projectS" [(ngModel)]="valueToSearch" (ngModelChange)="Search()"  placeholder="Search...">
                    <table id="example" role="table" class="table-margin">
                        <thead role="rowgroup">
                            <tr role="row">
                                <th role="columnheader">Name
                                    <mat-icon class="SortIcon" (click)="sortName(ascIcon)" *ngIf = "showName">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortName(desIcon)" *ngIf = "showName== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Email
                                    <mat-icon class="SortIcon" (click)="sortEmail(ascIcon)" *ngIf = "showEmail">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortEmail(desIcon)" *ngIf = "showEmail== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Gender
                                    <mat-icon class="SortIcon" (click)="sortGender(ascIcon)" *ngIf = "showGender">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortGender(desIcon)" *ngIf = "showGender== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Phone
                                    <mat-icon class="SortIcon" (click)="sortPhone(ascIcon)" *ngIf = "showPhone">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortPhone(desIcon)" *ngIf = "showPhone== false" >arrow_upward</mat-icon>
                                </th>
                                <!-- <th role="columnheader">Project </th>
                                <th role="columnheader">Department </th> -->
                                <th role="columnheader">Role
                                    <mat-icon class="SortIcon" (click)="sortRole(ascIcon)" *ngIf = "showRole">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortRole(desIcon)" *ngIf = "showRole== false" >arrow_upward</mat-icon> 
                                </th>
                                <th role="columnheader">Activate/Deactivate
                                    <mat-icon class="SortIcon" (click)="sortActiveUser(ascIcon)" *ngIf = "showact">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortActiveUser(desIcon)" *ngIf = "showact== false" >arrow_upward</mat-icon> 
                                </th>
                                <th role="columnheader" ></th>
                            </tr>
                        </thead>
                        <tbody role="rowgroup">
                            <tr role="row" *ngFor="let users of usersDetail | paginate: { itemsPerPage: 10, currentPage: p}" class="us">

                                <div *ngIf="showCrossicon" class="td-cross" >
                                    <div class="edit-div i_edit">
                                        <i class="fas fa-edit i_edit-btn " (click)="openDialog(users.id)"></i>
                                    </div>
                                </div>

                                
                                <td role="cell" >{{users.name}} </td>
                                <td role="cell" >{{users.email}}</td>
                                <td role="cell" >{{users.gender}}</td>
                                <td role="cell" >{{users.phone}}<br />{{users.alternate_phone}}</td>
                                <!-- <td role="cell" (click)="openDialog(users.id)">{{users.project?users.project:'-'}}</td>
                                <td role="cell" (click)="openDialog(users.id)">{{users.department}}</td> -->
                                <td role="cell">{{users.role}}</td>
                                <td class="close-td">
                                        <mat-slide-toggle class="material-icons-outlined  close-btn" [checked]="users.is_active" (change)="deActivate(users.id,$event)"  [matTooltip]="users.is_active==true?'Deactivate':'Activate'"
                                        aria-label="Button that displays a tooltip when focused or hovered over" matTooltipClass="example-tooltip-red"></mat-slide-toggle>
                                </td>
                                <td  *ngIf="showCrossicon==false" >
                                    
                                    <!-- <mat-icon class="material-icons-outlined" style="color:#3F6AD8;" (click)="openDialog(users.id)">edit
                                    </mat-icon> -->
                                    <div class="edit-div i_edit">
                                        <i class="fas fa-edit i_edit-btn " (click)="openDialog(users.id)"></i>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <!-- <div class="pagination-part" style="float: right;">
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                    </div> -->
                    <div class="container">
                        <div class="row">
                           
                            <div class="col-sm-12 col-md-5 d-flex justify-content-start">
                                 <div class="deactive_record rounded-pill" *ngIf = "totalRecords > 0">
                                   
                                   
                                     <span *ngIf = "totalRecords > 0 && totalRecords <= 10; else elseBlock">
                                        1 - {{totalRecords}} Of {{totalRecords}}
                                       
                                     </span>
                                     <ng-template  #elseBlock>
                                         <span *ngIf = "totalRecords > 10 && (totalRecords % 10) == 0; else nestedOne">
                                             {{p == 1 ? p : ((p-1)*10)+1}} - {{p == 1 ? p*10 : p*10}} Of {{totalRecords}}
                                            
                                          </span>
                                          <ng-template #nestedOne>
                                             <span *ngIf="(totalRecords > (p*10)); else nestedBlock">
                                                 {{p == 1 ? p : ((p-1)*10)+1}} - {{p == 1 ? p*10 : p*10}} Of {{totalRecords}}
                                                
                                            </span>
 
                                          </ng-template>
                                             <ng-template #nestedBlock>
                                                 {{p == 1 ? p : ((p-1)*10)+1}} - {{p == 1 ? p*10 : totalRecords}} Of {{totalRecords}}
                                                 
                                             </ng-template>
                                     </ng-template>
                                   
                                 </div>
                            </div>
                          
                            <div class=" col-sm-12 col-md-7 d-flex justify-content-end " > 
                                <div class="pagination-part" style="float: right;">
                                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                </div> 
                                     
                             </div> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>