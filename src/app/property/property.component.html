<div class="app-main__inner">
    <div class="app-page-title">
        <div class="page-title-wrapper">
            <div class="page-title-heading">
                <div class="page-title-icon">
                    <!-- <i class="fas fa-home"></i> -->
                    <mat-icon style=" background: white;color: #68bfbb;font-size: larger;position: relative;left: 5px;bottom: 5px;">domain</mat-icon>
                </div>
                <div>Property
                    <div class="page-title-subheading">Tables are the backbone of almost all web applications.
                    </div>
                </div>
            </div>
            <div class="page-title-actions">
                <div class="d-inline-block dropdown">
                    <ng-container *ngFor="let feature of propertiesFeature">
                        <button *ngIf="feature.create == true" type="button" (click)="openDialog()" aria-haspopup="true" aria-expanded="false"
                     class="btn-shadow btn btn-info">
                          <span class="btn-icon-wrapper pr-2 opacity-7">
                            <!-- <i class="fa fa-business-time fa-w-20"></i> -->
                            <mat-icon style="background-color: transparent;color:white;position: relative;top:4px">business_center</mat-icon>
                        </span>
                        Add Property
                    </button>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="main-card mb-3 card">
                <div class="card-body">
                    <h5 class="card-title"></h5>
                    <div class="filters">
                        <ng-container *ngFor="let feature of propertiesFeature">
                            <button type="button" *ngIf="feature.create==true" (click)="openFilter()"  aria-haspopup="true" aria-expanded="false" class="btn-shadow btn btn-info filter-buttons">
                            <span class="btn-icon-wrapper pr-2 opacity-7">
                                <!-- <i class="fa fa-filter"></i> -->
                                <mat-icon style="position: relative;top:4px;font-size: 20px;background-color: #68bfbb;">filter_list</mat-icon>
                            </span>
                            Filters
                        </button>
                        </ng-container>
                    <input type="text" class="searchBox" name="projectS"  [(ngModel)]="valueToSearch" (ngModelChange)="Search()"  placeholder="Search...">
                      <!-- (ngModelChange)="Search()" -->
                  </div>
                    <table id="example" role="table" class="table-margin">
                        <p *ngIf="noRecords">No records found!</p>
                        <thead class="tableHead" role="rowgroup">
                            <!-- <tr class="headRow" role="row"> -->
                            <tr role="row">
                                <th role="columnheader">Project
                                    <mat-icon class="SortIcon" (click)="sortProject(ascIcon)" *ngIf = "showProject">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortProject(desIcon)" *ngIf = "showProject== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Property <br />Type
                                    <mat-icon class="SortIconPropertyType" (click)="sortPropertyType(ascIcon)" *ngIf = "showPropertyType">arrow_downward</mat-icon>
                                    <mat-icon class="SortIconPropertyType" (click)="sortPropertyType(desIcon)" *ngIf = "showPropertyType== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Property<br /> Number
                                    <mat-icon class="SortIconProperty" (click)="sortPropertyNo(ascIcon)" *ngIf = "showPropertyNo">arrow_downward</mat-icon>
                                    <mat-icon class="SortIconProperty" (click)="sortPropertyNo(desIcon)" *ngIf = "showPropertyNo== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Property <br />Name
                                    <mat-icon class="SortIconPropertyName" (click)="sortPropertyName(ascIcon)" *ngIf = "showPropertyName">arrow_downward</mat-icon>
                                    <mat-icon class="SortIconPropertyName" (click)="sortPropertyName(desIcon)" *ngIf = "showPropertyName== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Total<br /> Area
                                    <mat-icon class="SortIconProperty" (click)="sortTotalArea(ascIcon)" *ngIf = "showTotalArea">arrow_downward</mat-icon>
                                    <mat-icon class="SortIconProperty" (click)="sortTotalArea(desIcon)" *ngIf = "showTotalArea== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Total <br />Amount
                                    <mat-icon class="SortIconProperty" (click)="sortTotalAmt(ascIcon)" *ngIf = "showTotalAmt">arrow_downward</mat-icon>
                                    <mat-icon class="SortIconProperty" (click)="sortTotalAmt(desIcon)" *ngIf = "showTotalAmt== false" >arrow_upward</mat-icon>
                                </th>
                                <th role="columnheader">Status
                                    <mat-icon class="SortIcon" (click)="sortStatus(ascIcon)" *ngIf = "showStatus">arrow_downward</mat-icon>
                                    <mat-icon class="SortIcon" (click)="sortStatus(desIcon)" *ngIf = "showStatus== false" >arrow_upward</mat-icon>
                                </th>
                                <th></th>
                                <!-- <th></th> -->
                            </tr>
                        </thead>
                        <tbody role="rowgroup">
                            <tr *ngFor="let property of propertyDetail | paginate: { itemsPerPage: 10, currentPage: p}" role="row" class="prop">
                                <div *ngIf="showCrossicon" class="td-cross" style="margin-bottom: 20px;">
                                    <mat-icon class="material-icons-outlined close-btn"
                                        (click)="openDelete(property.id)">
                                        clear
                                    </mat-icon>
                                    <div class="edit-div i_edit">
                                        <i class="fas fa-edit close-btn " (click)="openViewForm(property.id)"></i>
                                    </div>
                                </div>
                                <td role="cell" >{{property.projectName}}</td>
                                <td role="cell" >{{property.PropertytName}}</td>
                                <td role="cell" >{{property.number}}</td>
                                <td role="cell" >{{property.name}}</td>
                                <td role="cell" >{{property.property_size}}</td>
                                <td role="cell" >â‚¹ {{property.price}}</td>
                                <td role="cell" >{{property.status}}</td>
                                <td *ngIf="showCrossicon==false" class="close-td">
                                    <!-- <div class="edit-div">
                                        <mat-icon class="material-icons-outlined close-btn" style="background-color:#3F6AD8;" (click)="openViewForm(property.id)">edit
                                        </mat-icon>
                                    </div>    -->
                                    <div class="edit-div i_edit">
                                        <i class="fas fa-edit close-btn " (click)="openViewForm(property.id)"></i>
                                    </div>
                                    <mat-icon class="material-icons-outlined close-btn" (click)="openDelete(property.id)">clear
                                    </mat-icon>


                                </td>
                                <!-- <td  class="edit-td">
                                    <mat-icon class="material-icons-outlined close-btn" (click)="openDelete(property.id)">edit
                                    </mat-icon>

                                </td>  -->
                            </tr>
                        </tbody>

                    </table>
                    <!-- <div class="pagination-part" style="float: right;">
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                    </div> -->
                    <div class="container">
                        <div class="row">

                            <div class="col-sm-12 col-md-5 d-flex justify-content-start">
                                 <div class="deactive_record rounded-pill" *ngIf = "totalRecords > 0">

                                     <span *ngIf = "totalRecords > 0 && totalRecords <= 10; else elseBlock">
                                        1 - {{totalRecords}} of {{totalRecords}}

                                     </span>
                                     <ng-template  #elseBlock>
                                         <span *ngIf = "totalRecords > 10 && (totalRecords % 10) == 0; else nestedOne">
                                             {{p == 1 ? p : ((p-1)*10)+1}} - {{p == 1 ? p*10 : p*10}} of {{totalRecords}}

                                          </span>
                                          <ng-template #nestedOne>
                                             <span *ngIf="(totalRecords > (p*10)); else nestedBlock">
                                                 {{p == 1 ? p : ((p-1)*10)+1}} - {{p == 1 ? p*10 : p*10}} of {{totalRecords}}

                                            </span>

                                          </ng-template>
                                             <ng-template #nestedBlock>
                                                 {{p == 1 ? p : ((p-1)*10)+1}} - {{p == 1 ? p*10 : totalRecords}} of {{totalRecords}}

                                             </ng-template>
                                     </ng-template>

                                 </div>
                            </div>

                            <div class=" col-sm-12 col-md-7 d-flex justify-content-end " >
                                <div class="pagination-part" style="float: right;">

                                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                </div>

                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
